import java.util.*;

class Solution {

    private void dfs(int u,
                     boolean[] visited,
                     ArrayList<ArrayList<Integer>> adj,
                     ArrayList<Integer> result) {

        visited[u] = true;      // mark source as visited
        result.add(u);          // add source to result

        // Traverse all neighbors of u
        for (int i = 0; i < adj.get(u).size(); i++) {
            int v = adj.get(u).get(i);   // visitor node

            if (!visited[v]) {
                dfs(v, visited, adj, result);
            }
        }
    }

    public ArrayList<Integer> dfsOfGraph(int V, ArrayList<ArrayList<Integer>> adj) {

        boolean[] visited = new boolean[V];
        ArrayList<Integer> result = new ArrayList<>();

        // Start DFS from node 0
        dfs(0, visited, adj, result);

        return result;
    }
}
    