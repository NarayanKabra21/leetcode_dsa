import java.util.*;

class Solution {

    public ArrayList<Integer> bfsOfGraph(int V, ArrayList<ArrayList<Integer>> adj) {

        ArrayList<Integer> result = new ArrayList<>();
        boolean[] visited = new boolean[V];

        Queue<Integer> queue = new LinkedList<>();

        // Start BFS from node 0
        queue.add(0);
        visited[0] = true;

        while (!queue.isEmpty()) {

            int u = queue.poll();   // source node
            result.add(u);

            // Traverse all neighbors of u
            for (int i = 0; i < adj.get(u).size(); i++) {
                int v = adj.get(u).get(i);   // visitor node

                if (!visited[v]) {
                    visited[v] = true;
                    queue.add(v);
                }
            }
        }

        return result;
    }
}
